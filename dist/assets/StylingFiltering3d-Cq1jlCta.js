import{r as g,o as v,a as l,c as s,b as _,d as r,e as $,F as h,f as T,h as c}from"./index-DQb4Bj7z.js";const k={id:"cesiumContainer",class:"map"},x={class:"select"},A={__name:"StylingFiltering3d",setup(F){const a=g("");let e=null,o=null;const u=[{label:"应用基础样式",value:"Apply a basic style"},{label:"基于属性显示要素",value:"Show features based on a property"},{label:"颜色特征使用条件",value:"Color features using conditions"},{label:"处理未定义属性",value:"Handle undefined properties"},{label:"点云样式",value:"Point cloud styling example"}],m=function(){o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${material} === null","color('white')"],["${material} === 'glass'","color('skyblue', 0.5)"],["${material} === 'concrete'","color('grey')"],["${material} === 'brick'","color('indianred')"],["true","color('white')"]]}})},d=function(){o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${name} === 'Crown Entertainment Complex'","color('red')"],["true","color('white')"]]}})},C=function(){o.style=new Cesium.Cesium3DTileStyle({show:"${feature['building']} === 'residential' || ${feature['building']} === 'apartments'"})},p=function(){o.style=new Cesium.Cesium3DTileStyle({defines:{distanceFromComplex:"distance(vec2(${feature['cesium#longitude']}, ${feature['cesium#latitude']}), vec2(144.96007, -37.82249))"},color:{conditions:[["${distanceFromComplex} > 0.010","color('#d65c5c')"],["${distanceFromComplex} > 0.006","color('#f58971')"],["${distanceFromComplex} > 0.002","color('#f5af71')"],["${distanceFromComplex} > 0.0001","color('#f5ec71')"],["true","color('#ffffff')"]]}})},f=async function(){e.scene.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);let t;try{t=await Cesium.Cesium3DTileset.fromIonAssetId(28945,{pointCloudShading:{attenuation:!0,maximumAttenuation:2}}),e.scene.primitives.add(t)}catch(i){console.log(`Error loading tileset: ${i}`)}e.camera.setView({destination:new Cesium.Cartesian3(1.2693198408991008e6,-4293301826913256e-9,4527724561372451e-9),orientation:{direction:new Cesium.Cartesian3(-.742505030107832,-.3413204607149223,-.5763563336703441),up:new Cesium.Cartesian3(-.04655102331027917,-.8320643756800384,.5527222421370013)},easingFunction:Cesium.EasingFunction.QUADRATIC_IN_OUT}),t.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${Classification} === 2","color('brown')"],["${Classification} === 3","color('greenyellow')"],["${Classification} === 4","color('green')"],["${Classification} === 5","color('darkgreen')"],["true","color('white')"]]}})},w=t=>{switch(t){case"Apply a basic style":d();break;case"Show features based on a property":C();break;case"Color features using conditions":p();break;case"Point cloud styling example":f();break;case"Handle undefined properties":m();break}};return v(async()=>{e=new Cesium.Viewer("cesiumContainer",{terrain:Cesium.Terrain.fromWorldTerrain()}),o=await Cesium.createOsmBuildingsAsync(),e.scene.primitives.add(o),e.camera.lookAt(new Cesium.Cartesian3.fromDegrees(144.96007,-37.82249),new Cesium.Cartesian3(0,-1500,1200))}),(t,i)=>{const y=c("el-option"),b=c("el-select");return l(),s("div",k,[_("div",x,[r(b,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=n=>a.value=n),onChange:w},{default:$(()=>[(l(),s(h,null,T(u,n=>r(y,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])])}}};export{A as default};
