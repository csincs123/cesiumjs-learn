import{_ as V,r as P,o as $,a as k,c as h,b,d as t,w as d,e as p}from"./index-BRaq88li.js";const w={id:"cesiumContainer",class:"map"},E={class:"floatDiv"},F={__name:"mousePosition",setup(z){const e=P({screenPosition:"",cartesian3:"",pickPosition:"",rayPosition:"",modelCartographic:"",rayCartographic:""});let a=null;$(async()=>{a=new Cesium.Viewer("cesiumContainer",{terrain:Cesium.Terrain.fromWorldTerrain()});let l=await Cesium.createOsmBuildingsAsync();a.scene.primitives.add(l),a.camera.lookAt(new Cesium.Cartesian3.fromDegrees(144.96007,-37.82249),new Cesium.Cartesian3(0,-1500,1200)),y()});const y=()=>{new Cesium.ScreenSpaceEventHandler(a.scene.canvas).setInputAction(l=>{e.screenPosition=`x:${s(l.position.x)}, y: ${s(l.position.y)}`;let o=a.camera.pickEllipsoid(l.position,a.scene.ellipsoid);e.cartesian3=`x:${s(o.x)}, y:${s(o.y)}, z:${s(o.z)}`;let r=a.scene.pickPosition(l.position);e.pickPosition=`x:${s(r.x)}, y:${s(r.y)}, z:${s(r.z)}`;let n=Cesium.Cartographic.fromCartesian(r),c=Cesium.Math.toDegrees(n.longitude).toFixed(6),i=Cesium.Math.toDegrees(n.latitude).toFixed(6);e.modelCartographic=`x:${c}, y:${i}, z:${n.height.toFixed(4)}`;let f=a.camera.getPickRay(l.position);var u=a.scene.globe.pick(f,a.scene);e.rayPosition=`x:${s(u.x)}, y:${s(u.y)}, z:${s(u.z)}`;let m=Cesium.Cartographic.fromCartesian(u),g=Cesium.Math.toDegrees(m.longitude).toFixed(6),_=Cesium.Math.toDegrees(m.latitude).toFixed(6);e.rayCartographic=`x:${g}, y:${_}, z:${m.height.toFixed(4)}`;const C=a.scene.pick(l.position);C instanceof Cesium.Cesium3DTileFeature&&(C.color=Cesium.Color.RED),a.scene.drillPick(l.position).forEach(x=>{x.color=Cesium.Color.BLUE})},Cesium.ScreenSpaceEventType.LEFT_CLICK)},s=l=>l.toFixed(2);return(l,o)=>{const r=p("el-input"),n=p("el-form-item"),c=p("el-form");return k(),h("div",w,[b("div",E,[t(c,{model:e,"label-width":"auto"},{default:d(()=>[t(n,{label:"屏幕坐标"},{default:d(()=>[t(r,{modelValue:e.screenPosition,"onUpdate:modelValue":o[0]||(o[0]=i=>e.screenPosition=i)},null,8,["modelValue"])]),_:1}),t(n,{label:"椭球面坐标"},{default:d(()=>[t(r,{modelValue:e.cartesian3,"onUpdate:modelValue":o[1]||(o[1]=i=>e.cartesian3=i)},null,8,["modelValue"])]),_:1}),t(n,{label:"场景坐标"},{default:d(()=>[t(r,{modelValue:e.pickPosition,"onUpdate:modelValue":o[2]||(o[2]=i=>e.pickPosition=i)},null,8,["modelValue"])]),_:1}),t(n,{label:"模型经纬度"},{default:d(()=>[t(r,{modelValue:e.modelCartographic,"onUpdate:modelValue":o[3]||(o[3]=i=>e.modelCartographic=i)},null,8,["modelValue"])]),_:1}),t(n,{label:"地标坐标"},{default:d(()=>[t(r,{modelValue:e.rayPosition,"onUpdate:modelValue":o[4]||(o[4]=i=>e.rayPosition=i)},null,8,["modelValue"])]),_:1}),t(n,{label:"地面经纬度"},{default:d(()=>[t(r,{modelValue:e.rayCartographic,"onUpdate:modelValue":o[5]||(o[5]=i=>e.rayCartographic=i)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])}}},U=V(F,[["__scopeId","data-v-b2ea16b8"]]);export{U as default};
