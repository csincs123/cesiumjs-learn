import{_ as p,o as C,r as d,a as y,c as f}from"./index-u4VPhVJI.js";async function w(s,o,n,i){const t=await _(o);console.log("coord64",t);const e=await g(n),r=new Cesium.Geometry({vertexFormat:Cesium.PerInstanceColorAppearance.VERTEX_FORMAT,attributes:{position:new Cesium.GeometryAttribute({componentDatatype:Cesium.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:new Float64Array(t.flat())})},indices:new Uint16Array(e),primitiveType:Cesium.PrimitiveType.TRIANGLES,boundingSphere:Cesium.BoundingSphere.fromVertices(t.flat())}),a=new Cesium.GeometryInstance({geometry:r,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(i)}}),c=new Cesium.Primitive({geometryInstances:a,asynchronous:!1,releaseGeometryInstances:!1,compressVertices:!1,appearance:new Cesium.PerInstanceColorAppearance({translucent:!0,flat:!0})});s.scene.primitives.add(c);const u=new Cesium.Geometry({vertexFormat:Cesium.PerInstanceColorAppearance.VERTEX_FORMAT,attributes:{position:new Cesium.GeometryAttribute({componentDatatype:Cesium.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:new Float64Array(t.flat())})},indices:new Uint16Array(e),primitiveType:Cesium.PrimitiveType.TRIANGLES,boundingSphere:Cesium.BoundingSphere.fromVertices(t.flat())}),l=new Cesium.GeometryInstance({attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(i)},geometry:Cesium.GeometryPipeline.toWireframe(u)}),m=new Cesium.Primitive({geometryInstances:l,asynchronous:!1,releaseGeometryInstances:!1,compressVertices:!1,appearance:new Cesium.PerInstanceColorAppearance({translucent:!0,flat:!0})});return s.scene.primitives.add(m),{primitive:c,primitive1:m}}async function _(s){const n=await(await fetch(s)).text();return console.log("Pointtext",n),n.trim().split(`
`).map(e=>{const r=Cesium.Cartesian3.fromDegrees(...e.split(",").map(Number));return[r.x,r.y,r.z]})}async function g(s){const n=await(await fetch(s)).text();console.log("Indextext",n);const t=n.trim().split(`
`).flatMap(e=>e.split(",").map(Number));return new Uint16Array(t)}const x={id:"cesiumContainer",class:"map"},v={__name:"Triangulation",setup(s){let o=null;C(async()=>{o=new Cesium.Viewer("cesiumContainer",{terrain:Cesium.Terrain.fromWorldTerrain()}),await i(),t(123.06125894180711,41.03382854489735,2164.4393773033075)});const n=d(null),i=()=>{const e=new Cesium.Color(0,0,1,.5);n.value=w(o,"/triangle/point_大孤山铁矿_3_+5m.txt","/triangle/index_大孤山铁矿_3_+5m.txt",e)},t=(e,r,a)=>{o.camera.setView({destination:Cesium.Cartesian3.fromDegrees(e,r,a),orientation:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-45),roll:0}})};return(e,r)=>(y(),f("div",x))}},I=p(v,[["__scopeId","data-v-c529da7c"]]);export{I as default};
