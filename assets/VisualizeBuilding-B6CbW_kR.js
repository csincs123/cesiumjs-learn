import{_ as m,o as f,a as C,c as g,b as s}from"./index-u4VPhVJI.js";const w={id:"cesiumContainer",class:"map"},_={__name:"VisualizeBuilding",setup(h){let i=null,l=null,e=null,n=null;f(async()=>{i=new Cesium.Viewer("cesiumContainer",{terrain:Cesium.Terrain.fromWorldTerrain()}),i.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(-104.9965,39.74248,4e3)}),l=await Cesium.createOsmBuildingsAsync(),i.scene.primitives.add(l)});async function r(){if(n){n.show=!n.show;return}n=await Cesium.GeoJsonDataSource.load("/new_building_denver.json",{clampToGround:!0});const o=await i.dataSources.add(n);for(const a of o.entities.values)a.polygon.classificationType=Cesium.ClassificationType.TERRAIN}function u(){l.style=new Cesium.Cesium3DTileStyle({show:{conditions:[["${elementId} === 332469316",!1],["${elementId} === 332469317",!1],["${elementId} === 235368665",!1],["${elementId} === 530288180",!1],["${elementId} === 530288179",!1],["${elementId} === 532245203",!1],[!0,!0]]},color:"Boolean(${feature['cesium#color']}) ? color(${feature['cesium#color']}) : color('#ffffff')"})}async function c(){if(e){e.show=!e.show;return}const t="/PSFS.glb",o=Cesium.Cartesian3.fromDegrees(-104.9909,39.73579,1577),a=new Cesium.HeadingPitchRoll(-8,0,0);e=await Cesium.Model.fromGltfAsync({url:t,modelMatrix:Cesium.Transforms.headingPitchRollToFixedFrame(o,a,Cesium.Ellipsoid.WGS84)}),i.scene.primitives.add(e);var d=Cesium.Color.fromAlpha(Cesium.Color.RED,.5);e&&(e.outlineColor=d,e.showOutline=!0),e.silhouetteSize=2}return(t,o)=>(C(),g("div",w,[s("div",{class:"buttonDiv"},[s("button",{onClick:r},"显示新建筑范围"),s("button",{onClick:u},"隐藏旧建筑"),s("button",{onClick:c},"显示新建筑")])]))}},T=m(_,[["__scopeId","data-v-91695f02"]]);export{T as default};
