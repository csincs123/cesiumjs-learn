import{_ as v,f as u,o as y,a as _,c as w,b as V,d,u as m,i as p,e as T}from"./index-BRaq88li.js";const P={id:"cesiumContainer",class:"map"},k={class:"toolbar"},E={__name:"AECCliping",setup(x){let s=u(!0),t=u(!1),i=u(!1),l=null,a=null,n=null;y(async()=>{l=new Cesium.Viewer("cesiumContainer",{timeline:!1,animation:!1,sceneModePicker:!1,baseLayerPicker:!1,globe:!1}),l.scene.skyAtmosphere.show=!0;const g=Cesium.JulianDate.fromIso8601("2020-01-09T23:00:39.018261982600961346Z");l.clock.currentTime=g;let o;try{o=await Cesium.createGooglePhotorealistic3DTileset(),l.scene.primitives.add(o)}catch(e){console.log(`Error loading Photorealistic 3D Tiles tileset.
        ${e}`)}try{const e=await Cesium.GeoJsonDataSource.load("/cesiumjs-learn/AECCliping.json",{clampToGround:!0});l.dataSources.add(e),a=e.entities.values.find(c=>Cesium.defined(c.polygon)),a.polygon.outline=!1;const C=new Cesium.HeadingPitchRange(Cesium.Math.toRadians(95),Cesium.Math.toRadians(-75),800);l.zoomTo(a,C),l.homeButton.viewModel.command.beforeExecute.addEventListener(c=>{c.cancel=!0,l.zoomTo(a,C)})}catch(e){console.log(`Error loading geojson. ${e}`)}const r=a.polygon.hierarchy.getValue().positions;n=new Cesium.ClippingPolygonCollection({polygons:[new Cesium.ClippingPolygon({positions:r})]}),o.clippingPolygons=n,n.enabled=!1});const f=()=>{a.show=s.value},h=()=>{n.enabled=t.value},b=()=>{n.enabled=!0,n.inverse=i.value};return(g,o)=>{const r=T("el-checkbox");return _(),w("div",P,[V("div",k,[d(r,{label:"展示覆盖区",modelValue:m(s),"onUpdate:modelValue":o[0]||(o[0]=e=>p(s)?s.value=e:s=e),onChange:f},null,8,["modelValue"]),d(r,{label:"裁切目标区域",modelValue:m(t),"onUpdate:modelValue":o[1]||(o[1]=e=>p(t)?t.value=e:t=e),onChange:h},null,8,["modelValue"]),d(r,{label:"反裁切",modelValue:m(i),"onUpdate:modelValue":o[2]||(o[2]=e=>p(i)?i.value=e:i=e),onChange:b},null,8,["modelValue"])])])}}},A=v(E,[["__scopeId","data-v-458dbad2"]]);export{A as default};
